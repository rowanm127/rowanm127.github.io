<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Heart of the Empire</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/mapbox-gl-animated-popup@v0.4.0/dist/mapbox-gl-animated-popup.min.js"></script>
    <link rel="stylesheet" href="https://use.typekit.net/anr7rne.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Alegreya+SC:ital,wght@0,400;0,500;0,700;0,800;0,900;1,400;1,500;1,700;1,800;1,900&family=Alegreya:ital,wght@0,400..900;1,400..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }

        .no-select {
            -webkit-user-select: none;
            /* Safari */
            -ms-user-select: none;
            /* IE 10 and IE 11 */
            user-select: none;
            /* Standard syntax */
        }

        .mapboxgl-ctrl-group {
            outline: 2px solid #c8202f;
        }

        .mapboxgl-ctrl-group button+button {
            border-top: 2px solid #c8202f
        }

        .mapboxgl-ctrl-group button:first-child {
            border-radius: 5px 5px 0 0;
        }

        .mapboxgl-ctrl-group button:last-child {
            border-radius: 0 0 5px 5px;
        }

        .mapboxgl-popup-content {
            outline: 2px solid #c8202f;
        }

        @media only screen and (max-width: 600px) {
            .mapboxgl-popup-wrapper {
                max-width: 70vw;
                width: 70vw;
            }
        }
        .mapboxgl-ctrl-bottom-right {
            bottom: 10px;
            right: 10px;
        }

        .mapboxgl-ctrl-bottom-left {
            bottom: 10px;
            left: 10px;
        }

        .help-container {
            max-width: 60px;
            height: 60px;
            margin: 15px;
            position: relative;
            z-index: 3;
        }

        .help-active,
        .help-container {
            transition: max-width 0.2s ease-out;
        }

        .help-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .help-button {
            position: relative;
            z-index: 1;
            background-color: #fff;
            color: black;
            cursor: pointer;
            width: 100%;
            height: 100%;
            outline: 2px solid #c8202f;
            border: none;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            transition: border-radius 0.2s ease-out;
            display: grid;
            grid-template-columns: 60px auto;
            align-items: center;
            justify-content: start;
            padding: 0;
        }

        .help-active,
        .help-button:hover {
            background-color: #f1f1f1;
        }

        .help-active,
        .help-button::after {
            border-radius: 5px 5px 0px 0px;
        }

        .help-content {
            width: 100%;
            max-height: 0;
            transition: max-height 0.2s ease-out, outline 0.2s ease-out;
            overflow: hidden;
            background-color: #f1f1f1;
            position: absolute;
            border-radius: 0 0 5px 5px;
            white-space: nowrap;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            scrollbar-color: #c8202f #f1f1f1;
            outline: none;
        }

        .help-active,
        .help-content::after {
            outline: 2px solid #c8202f;
        }

        .info-button {
            border: none;
            cursor: pointer;
            background-color: rgba(0, 0, 0, 0);
            display: grid;
            grid-template-columns: 60px auto;
            align-items: center;
            justify-content: start;
            padding: 0;
        }

        .filter-container {
            max-width: 60px;
            height: 60px;
            margin: 15px;
            position: relative;
            z-index: 2;
        }

        .filter-active,
        .filter-container {
            transition: max-width 0.2s ease-out;
        }

        .filter-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .filter-button {
            position: relative;
            z-index: 3;
            background-color: #fff;
            color: black;
            cursor: pointer;
            width: 100%;
            height: 100%;
            outline: 2px solid #c8202f;
            border: none;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            display: grid;
            grid-template-columns: 60px auto;
            align-items: center;
            justify-content: start;
            padding: 0;
        }

        .filter-active,
        .filter-button:hover {
            background-color: #f1f1f1;
        }

        .filter-active,
        .filter-button:after {
            border-radius: 5px 5px 0px 0px;
        }

        .filter-nav {
            overflow: hidden;
            padding: 5px;
            padding-bottom: 0px;
        }

        .filter-nav button {
            height: 35px;
            width: 70px;
            background-color: #fff;
            font-family: "Alegreya", serif;
            font-optical-sizing: auto;
            font-weight: 400;
            font-style: normal;
            font-size: 15px;
            color: black;
            cursor: pointer;
            border: 2px solid #c8202f;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            text-align: center;
            text-transform: capitalize;
            position: relative;
        }

        .filter-nav-active,
        .filter-nav button:hover {
            background-color: #f1f1f1;
        }

        .filter-group-outer {
            width: 100%;
            height: 0;
            transition: height 0.2s ease-out;
            overflow: hidden;
            position: absolute;
            background-color: #f1f1f1;
            border-radius: 0px 0px 5px 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            z-index: 2;
        }

        .filter-active,
        .filter-group-outer::after {
            outline: 2px solid #c8202f;
        }

        .filter-group {
            position: absolute;
            max-width: 96%;
            height: 90%;
            font-family: "Alegreya", serif;
            font-optical-sizing: auto;
            font-weight: 400;
            font-style: normal;
            font-size: 15px;
            overflow: auto;
            scrollbar-color: #c8202f #f1f1f1;
            color: #000;
            padding: 10px;
            display: grid;
            /*grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));*/
            gap: 10px;
        }

        .filter-group .filter-subgroup {
            display: flex;
            flex-direction: column;
        }

        .filter-group input[type='checkbox'] {
            display: none;
        }

        .filter-group label {
            background-color: #fff;
            display: block;
            cursor: pointer;
            padding: 5px;
            padding-left: 35px;
            border: 2px solid #c8202f;
            border-bottom: none;
            transition: background-color 0.3s ease;
            text-transform: capitalize;
            position: relative;
        }

        .filter-group label:first-of-type {
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
        }

        .filter-group label:last-of-type {
            border-bottom-left-radius: 5px;
            border-bottom-right-radius: 5px;
            border-bottom: 2px solid #c8202f;
            margin-bottom: 0;
        }

        .filter-group input[type='checkbox']+label:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 10px;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            border: 2px solid #c8202f;
            border-radius: 2px;
            transition: background-color 0.3s ease;
        }

        .filter-group input[type='checkbox']+label:hover,
        .filter-group input[type='checkbox']:checked+label {
            background-color: #f1f1f1;
        }

        .filter-group input[type='checkbox']:checked+label:before {
            background-color: #c8202f;
        }

        #creators {
            overflow: auto;
            grid-template-columns: repeat(4, 180px);
        }

        #events {
            overflow: auto;
            display: flex;
            flex-direction: column;
            gap: 0px;
        }

        .audio-container {
            width: 60px;
            height: 60px;
            position: relative;
            margin: 15px;
            z-index: 0;
        }

        .audio-button {
            background-color: #fff;
            color: #000;
            cursor: pointer;
            width: 100%;
            height: 100%;
            outline: 2px solid #c8202f;
            border: none;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .audio-button:hover {
            background-color: #f1f1f1;
        }

        .download-container {
            max-width: 60px;
            height: 60px;
            margin: 15px;
            position: relative;
            z-index: 1;
        }

        .download-active,
        .download-container {
            transition: max-width 0.2s ease-out;
        }

        .download-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .download-button {
            position: relative;
            z-index: 1;
            background-color: #fff;
            color: #000;
            cursor: pointer;
            width: 100%;
            height: 100%;
            outline: 2px solid #c8202f;
            border: none;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            transition: border-radius 0.2s ease-out;
            display: grid;
            grid-template-columns: 60px auto;
            align-items: center;
            justify-content: start;
            padding: 0;
        }

        .download-active,
        .download-button:hover {
            background-color: #f1f1f1;
        }

        .download-active,
        .download-button::after {
            border-radius: 5px 5px 0px 0px;
        }

        .download-content {
            width: 100%;
            max-height: 0;
            transition: max-height 0.2s ease-out, outline 0.2s ease-out;
            overflow: hidden;
            background-color: #f1f1f1;
            position: absolute;
            border-radius: 0 0 5px 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            scrollbar-color: #c8202f #f1f1f1;
            outline: none;
            display: grid;
            grid-template-columns: 200px 200px;
            gap: 20px;
            align-items: center;
        }

        .download-active,
        .download-content::after {
            outline: 2px solid #c8202f;
        }

        #fly {
            cursor: pointer;
            color: #c8202f;
            text-decoration-line: underline;
        }

        .alegreya-sc-regular {
            font-family: "Alegreya SC", serif;
            font-weight: 400;
            font-style: normal;
        }

        .alegreya-sc-medium {
            font-family: "Alegreya SC", serif;
            font-weight: 500;
            font-style: normal;
        }

        .alegreya-sc-bold {
            font-family: "Alegreya SC", serif;
            font-weight: 700;
            font-style: normal;
        }

        .alegreya-sc-regular-italic {
            font-family: "Alegreya SC", serif;
            font-weight: 400;
            font-style: italic;
        }

        .alegreya-sc-medium-italic {
            font-family: "Alegreya SC", serif;
            font-weight: 500;
            font-style: italic;
        }

        .alegreya-sc-bold-italic {
            font-family: "Alegreya SC", serif;
            font-weight: 700;
            font-style: italic;
        }

        .alegreya-regular {
            font-family: "Alegreya", serif;
            font-optical-sizing: auto;
            font-weight: 400;
            font-style: normal;
        }

        .alegreya-medium {
            font-family: "Alegreya", serif;
            font-optical-sizing: auto;
            font-weight: 500;
            font-style: normal;
        }

        .alegreya-bold {
            font-family: "Alegreya", serif;
            font-optical-sizing: auto;
            font-weight: 700;
            font-style: normal;
        }

        .alegreya-regular-italic {
            font-family: "Alegreya", serif;
            font-optical-sizing: auto;
            font-weight: 400;
            font-style: italic;
        }

        .material-symbols-outlined {
            font-size: 40px;
            font-variation-settings:
                'FILL' 0,
                'wght' 400,
                'GRAD' 0,
                'opsz' 40
        }

        h1 {
            font-family: priori-serif, serif;
            font-weight: 700;
            font-style: normal;
            font-size: 40px;
            line-height: 1;
            margin: 0;
        }

        @media only screen and (max-width: 600px) {
            h1 {
                font-size: 35px;
                line-height: 1;
            }
        }

        h2 {
            font-family: priori-serif, serif;
            font-weight: 700;
            font-style: normal;
            font-size: 20px;
            line-height: 1;
            margin: 0;
        }

        h3 {
            font-family: "Alegreya", serif;
            font-optical-sizing: auto;
            font-weight: 500;
            font-style: normal;
            margin: 0;
        }

        p, .button-title {
            font-family: "Alegreya", serif;
            font-optical-sizing: auto;
            font-weight: 400;
            font-style: normal;
            font-size: 20px;
        }

        @media only screen and (max-width: 600px) {
            p, .button-title {
                font-size: 15px;
                line-height: 1;
            }
        }

        i {
            font-family: "Alegreya", serif;
            font-optical-sizing: auto;
            font-weight: 400;
            font-style: italic;
        }

        a {
            color: #c8202f;
        }

        img {
            border-radius: 5px;
        }
    </style>
</head>

<body>
    <div id="map"></div>
    <!--Help Button-->
    <div class="help-container">
        <button type="button" class="help-button">
            <span class="help-icon no-select"><span class="material-symbols-outlined">
                    help
                </span></span>
            <span class="button-title" style="overflow: hidden;">
                Help
            </span>
        </button>
        <div class="help-content">
            <p style="margin: 10px;">Drag using the left mouse button to move the map.<br>
                Use the right mouse button to rotate and view the<br>map in 3D. Press the compass button in the<br>top right to reset the view.<br>
                Scroll with the mouse wheel to zoom in and out.
            </p>
            <p style="margin: 10px">This project was created through research from a<br>variety of sources, in particular:<br><a href="https://www.londonremembers.com/" target="_blank" rel="noopener noreferrer">London Remembers</a>, <a href="https://artuk.org/" target="_blank" rel="noopener noreferrer">Art UK</a>,<br><a href="https://www.britannica.com/" target="_blank" rel="noopener noreferrer">Encyclopedia Britannica</a> and <a href="https://www.english-heritage.org.uk/" target="_blank" rel="noopener noreferrer">English Heritage</a>. 
            </p>
        </div>
        <!--Reveal content of help button-->
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const helpButton = document.querySelector('.help-button');
                const helpContainer = document.querySelector('.help-container');
                const helpContent = document.querySelector('.help-content');
                const infoButton = document.querySelector('.info-button');
                const modal = document.getElementById('more-info');
                const closeButton = document.querySelector('.close-button');

                // Toggle help content visibility
                helpButton.addEventListener('click', function () {
                    helpContainer.classList.toggle('help-active');
                    helpContent.classList.toggle('help-active');
                    this.classList.toggle('help-active');
                    let content = this.nextElementSibling;
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                        content.style.overflow = null;
                        helpContainer.style.maxWidth = null;
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                        content.style.overflow = "auto";
                        helpContainer.style.maxWidth = "440px";
                    }
                });
            });
        </script>
    </div>
    <!--Filter Button-->
    <div class="filter-container">
        <button type="button" class="filter-button">
            <span class="filter-icon no-select"><span class="material-symbols-outlined">
                    filter_list
                </span></span>
            <span class="button-title" style="overflow: hidden;">
                Filters
            </span>
        </button>
        <div class="filter-content">
            <div class="filter-group-outer">
                <div class="filter-nav no-select">
                    <button id="creators-button" class="filter-select" type="button">Creators</button>
                    <button id="events-button" class="filter-select" type="button">Events</button>
                </div>
                <div id="creators" class="filter-group"></div>
                <div id="events" class="filter-group" style="display: none;"></div>
            </div>
        </div>
        <!--Reveal Filters-->
        <script>
            const filterButton = document.getElementsByClassName("filter-button");
            const filterContainer = document.getElementsByClassName("filter-container")[0]
            const filterOuter = document.getElementsByClassName("filter-group-outer")[0]

            for (i = 0; i < filterButton.length; i++) {
                filterButton[i].addEventListener("click", function () {
                    filterContainer.classList.toggle("filter-active")
                    filterOuter.classList.toggle("filter-active")
                    this.classList.toggle("filter-active");
                    if (filterOuter.style.height) {
                        filterOuter.style.height = null;
                        filterContainer.style.maxWidth = null;
                    } else {
                        filterOuter.style.height = "650px";
                        filterContainer.style.maxWidth = "800px";
                    }
                });
            }

            //Filter <div> select buttons
            const creatorsFilter = document.getElementById("creators")
            const eventsFilter = document.getElementById("events")
            const creatorsButton = document.getElementById("creators-button")
            const eventsButton = document.getElementById("events-button")

            document.addEventListener('click', function (event) {
                if (event.target && event.target.id === 'creators-button') {
                    creatorsFilter.style.display = null;
                    eventsFilter.style.display = "none";
                } else if (event.target && event.target.id === 'events-button') {
                    creatorsFilter.style.display = "none";
                    eventsFilter.style.display = null;
                }

            });
        </script>
    </div>
    <!--Download Button-->
    <div class="download-container">
        <button type="button" class="download-button">
            <span class="download-icon no-select"><span class="material-symbols-outlined">
                    download
                </span></span>
            <span class="button-title" style="overflow: hidden;">
                Download
            </span>
        </button>
        <div class="download-content">
            <img src="img/EmpireWalkQR.png" alt="QR Code" style="padding: 10px; width: 200px;">
            <p style="font-size: 16px;">This QR code will download a .gpx file of the route for you to follow in your own
                time. I recommend an offline maps app such as <a href="https://organicmaps.app/" target="_blank" rel="noopener noreferrer">Organic
                    Maps</a>.</p>
        </div>
        <!--Reveal content of download button-->
        <script>
            const downloadButton = document.getElementsByClassName("download-button");
            const downloadContainer = document.getElementsByClassName("download-container")[0];
            const downloadContent = document.getElementsByClassName("download-content")[0];

            for (i = 0; i < downloadButton.length; i++) {
                downloadButton[i].addEventListener("click", function () {
                    downloadContainer.classList.toggle("download-active");
                    downloadContent.classList.toggle("download-active")
                    this.classList.toggle("download-active");
                    let content = this.nextElementSibling;
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                        content.style.overflow = null;
                        downloadContainer.style.maxWidth = null;
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                        content.style.overflow = "auto";
                        downloadContainer.style.maxWidth = "440px";
                    }
                });
            }
        </script>
    </div>
    <!--Audio Guide Button
    <div class="audio-container">
        <button type="button" class="audio-button"><span class="material-symbols-outlined">
                headphones
            </span>
        </button>
    </div>-->
    <!--This script is for camera movement-->
    <script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>
    <!--Map Scripts-->
    <script src="config.local.js"></script>
    <script src="config.prod.js"></script>
    <script>
        mapboxgl.accessToken = window.MAPBOX_TOKEN;
        // Set bounds
        const bounds = [
            [-0.15806827, 51.4953854], // Southwest coordinates
            [-0.11072426, 51.51141814] // Northeast coordinates
        ];
        //Map
        const map = new mapboxgl.Map({
            container: 'map',
            // Replace YOUR_STYLE_URL with your style URL.
            style: 'mapbox://styles/rowyourboat127/clz2fdla200kk01pf011l6or0',
            center: [-0.13211, 51.50393],
            zoom: 15,
            maxBounds: bounds //Set the map's geographical boundaries.
        });

        //Waypoint properties
        const waypoints = {
            "Henry Havelock": {
                description: "This statue is known for the number of pigeons that sit on it, the amount of people who lean on it, and the fact that it is a statue of Henry Havelock. Havelock is known for (depending on your feelings) either his barbaric or heroic actions during the Indian Rebellion of 1857 where he rose to fame recapturing Cawnpore as well as Lucknow.<br><br>Looking at Havelock's statue, along with many other military leaders on this list, through the lens of the 21st Century, it can be difficult to understand why these figures were so often celebrated for their violence.",
                image: "henry_havelock",
                coordinates: null,
                date: "1861",
                creators: {
                    sculptors: "William Behnes",
                    architects: null,
                    foundries: "Robinson & Cottam",
                    stonemasons: null
                },
                links: null,
                roles: "Soldier",
                events: "Indian Rebellion of 1857; Siege of Lucknow; Siege of Cawnpore"
            },
            "Nelson's Column": {
                description: "Situated in Trafalgar Square, this column is probably one of the most iconic landmarks within central London. Commemorating the 1805 Battle of Trafalgar, Encyclopedia Britannica claims that Nelson is still seen as one of the most appealing British national heroes. Knowing the history between the British and French, this is not surprising.<br><br>Before the statue of Nelson took its place, fourteen people had a steak dinner at the top of the column. The monument itself is impressive, not just in its size and the history of Nelson, but also for the huge amount of pigeon poo that can be found at the top of it.",
                image: "nelson",
                coordinates: null,
                date: "1843",
                creators: {
                    sculptors: "Edward Hodges Baily; John Edward Carew; William Frederick Woodington; John Ternouth; Musgrave Lewthwaite Watson; Edwin Henry Landseer",
                    architects: "William Railton",
                    foundries: "Christy, Adams and Hill; Carlo Marochetti; Moore, Fressange and Moore",
                    stonemasons: "Grissell and Peto",
                },
                links: null,
                roles: "British naval commander; Vice-Admiral; Viscount",
                events: "Battle of Trafalgar; French Revolutionary Wars; Napoleonic Wars"
            },
            "Charles James Napier": {
                description: "Overshadowed by Nelson's Column and criticised as one of the worst pieces of sculpture, unworthy of its place in Trafalgar Square, Napier was a fan of law and order and a man with major trust issues. It would not be surprising if his soldiers were <s>provoked</s> politely asked to donate to the public subscription to have this statue built.",
                image: "napier",
                coordinates: null,
                date: "1856",
                creators: {
                    sculptors: "George Gammon Adams",
                    architects: null,
                    foundries: "Messrs Thompson of Pimlico",
                    stonemasons: null
                },
                links: "<a href='https://www.victorianweb.org/sculpture/adams/1b.html' target='_blank' rel='noopener noreferrer'>The Victorian Web</a>",
                roles: "British General; Governor of Sindh; Commander-in-Chief of India",
                events: "Battle of MiƒÅni; Napoleonic Wars; British conquest of Sindh"
            },
            "Royal Marines": {
                description: "Regardless of how we look at soldiers, either heroes or murderers, there seems to be more justification and acceptance towards memorials that remember all those who fell in the battle rather than just their leaders. Ordinary people who put their lives on the line with nothing but national pride and dedication to one's country to perform their duty.<br><br>This memorial commemorates Royal Marines who died during the Boxer Rebellion and the Second Boer War.<span id='fly' data-name='The Royal Artillery Boer War Memorial'>Another memorial to the Second Boer War can be found nearby this one.</span>",
                image: "royal_marines",
                coordinates: [-0.129533, 51.506538],
                date: "1903",
                creators: {
                    sculptors: "Adrian Jones",
                    architects: null,
                    foundries: "Thomas Graham Jackson",
                    stonemasons: null
                },
                links: null,
                roles: "Royal Marines",
                events: "Boxer Rebellion; Second Boer War"
            },
            "James Cook": {
                description: "If colonisation had to have a face, James Cook could be a candidate. An explorer / coloniser (depending on how you look at it) of the Pacific, mainly Canada, North America, Australia and New Zealand. He revolutionised sailing and achieved great fame during his time.<br><br>The statue itself, just off the Mall, represents Cook as a hero, the man who helped to further lay the foundations of the British Empire, but can he be a hero when he disrupted the lives of so many Native people?",
                image: "james_cook",
                coordinates: null,
                date: "1914",
                creators: {
                    sculptors: "Thomas Brock",
                    architects: "Aston Webb",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                roles: "British Naval Captain; Navigator and Explorer",
                events: "Voyages of James Cook; Colonisation of the Pacific"
            },
            "Duke of York Column": {
                description: "Oh, the grand old Duke of York,<br>He had ten thousand men<br>A day's pay was stolen from each of them,<br>To build a great big monument.<br><br>The column designed by Benjamin Wyatt actually houses a set of stairs leading up to a viewing platform. This was allegedly closed after a number of suicides in the 19th century.<br><br>The Duke himself had to resign as commander in chief in 1809 as his mistress, Mary Anne Clarke, had taken money from officers in return for promising the Duke would promote them. Despite this, he was acquitted of wrongdoing and restored to office in 1811.",
                image: "duke_of_york",
                coordinates: null,
                date: "1833",
                creators: {
                    sculptors: "Richard Westmacott II",
                    architects: "Benjamin Wyatt",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                roles: "British Field Commander",
                events: "French Revolutionary Wars"
            },
            "Gladstone Blue Plaque": {
                description: "The blue plaque for former Prime Minister William Ewart Gladstone. His father was the owner of sugar plantations in the West Indies that used slaves to carry out work. Early in his political career as a Tory, Gladstone argued in defence of slave owners such as his father, using his first speech in parliament to defend against charges of cruelty towards slaves. When slavery was abolished, Gladstone benefited heavily from his father's position as well as his own by seeking financial compensation for slave owners. However, after seemingly having a small change of heart, he spent the latter part of his career attempting to uphold the rights of non-Europeans and reduce the use of slave workers.",
                image: 'gladstone_plaque',
                coordinates: null,
                date: '1925',
                creators: {
                    sculptors: null,
                    architects: 'London County Council',
                    foundries: null,
                    stonemasons: null
                },
                links: '<a href="https://www.english-heritage.org.uk/visit/blue-plaques/william-ewart-gladstone/" target="_blank" rel="noopener noreferrer">English Heritage</a>',
                roles: "Former British Prime Minister",
                events: "Bulgarian Horrors; Irish Home Rule Movement; American Civil War; First Boer War; Second Anglo-Afghan War; Mahdist War; Opium Wars"
            },
            "John Lawrence": {
                description: "John Lawrence, Viceroy of India from 1864-1869 who was also known as 'The Saviour of the Punjab'. He lowered tax on the poor, saved India from the Afghanistan war, and played a role in helping to suppress the Indian Rebellion of 1857. He also allowed over 200 million pounds of rice to be sent to Great Britain while millions of Indians succumbed to the Orissa famine in 1866.",
                image: "lawrence",
                coordinates: null,
                date: "1882 / 1885",
                creators: {
                    sculptors: "Joseph Edgar Boehm",
                    architects: null,
                    foundries: "Moore & Co.",
                    stonemasons: null
                },
                links: null,
                roles: "Viceroy of India; Governor-General of India",
                events: "Orissa Famine; Indian Rebellion of 1857; First Anglo-Sikh War; Second Anglo-Sikh War"
            },
            "King Edward VII": {
                description: "'King of the United Kingdom of Great Britain and Ireland and of the British Dominions Beyond the Seas, Defender of the Faith, Emperor of India'... a very elaborate royal title.<br><br>Despite his short reign, Edward VII was fairly popular and has statues throughout the former colonies of the British Empire. So popular that his tours to India as the Prince of Wales are more remarkable than his time on the throne. In memory of his mother, Queen Victoria, Edward VII commissioned several memorials in memory of her including Admiralty Arch and the <span id='fly' data-name='Victoria Memorial'>Victoria Memorial</span> outside of Buckingham Palace.<br>",
                image: "edward_vii",
                coordinates: [-0.132084, 51.506709],
                date: "1921",
                creators: {
                    sculptors: "Edgar Bertram MacKennal",
                    architects: "Edwin Landseer Lutyens",
                    foundries: "J.W. Singer & Sons",
                    stonemasons: null
                },
                links: '<a href="https://www.britishpathe.com/asset/48903/" target="_blank" rel="noopener noreferrer">Statue Unveiling Video</a>',
                roles: "King of the United Kingdom; Emperor of India",
                events: "Second Boer War"
            },
            "Sir Keith Park": {
                description: "The statue of Sir Keith Park epitomises the pivotal role soldiers from across the Commonwealth and allied countries played in saving the nation from invasions alongside the British forces. As a pilot from New Zealand, he rose across the ranks of the Air Force to be recognised as a man who could have single-handedly won the Battle of Britain with his leadership, judgement, and skills. The role that those in the commonwealth have played in continuing to help Britain is something which has perhaps been forgotten more with time.",
                image: "keith_park",
                coordinates: null,
                date: "2010",
                creators: {
                    sculptors: "Les Johnson",
                    architects: null,
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                roles: null,
                events: "Second World War"
            },
            "Lord Curzon": {
                description: "Lord Curzon was an overdramatic art lover, who took care of Queen Victoria's most-treasured jewel, India, as its viceroy.<br><br>He focused on education, art, Indian heritage, police, and civil services. He reduced taxes, punished racism towards Indians and oversaw restoration of the Taj Mahal. His ego encouraged him to appoint <span id='fly' data-name='Kitchener'>Lord Kitchener</span>, a military hero, as Commander-in-Chief. However, they were unable to get along and, after a final confrontation, Curzon ended up crying, later informing <span id='fly' data-name='King Edward VII'>King Edward VII</span> that it was either his way or he was resigning. The King couldn't care less, and broke Curzon's heart by accepting his resignation. By the time Curzon came back to England, no one remembered his actions in India, and he didn't receive the earldom often awarded to viceroys.<br><br>Curzon later attempted to run for prime minister, however he lost out to Stanley Baldwin who later unveiled this statue.",
                image: "curzon",
                coordinates: [-0.133279, 51.505958],
                date: "1931",
                creators: {
                    sculptors: "Edgar Bertram MacKennal",
                    architects: null,
                    foundries: null,
                    stonemasons: null
                },
                links: "<a href='https://www.youtube.com/watch?v=MtT6IsG-mIw' target='_blank' rel='noopener noreferrer'>Statue Unveiling</a>",
                roles: "Viceroy of India; Foreign Secretary",
                events: "First World War"
            },
            "George Curzon Blue Plaque": {
                description: "A plaque marking the location where <span id='fly' data-name='Lord Curzon'>George Nathaniel Curzon</span> lived and died.",
                image: "curzon_plaque",
                coordinates: null,
                date: "1976",
                creators: {
                    sculptors: null,
                    architects: "Greater London Council",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                roles: "Viceroy of India; Foreign Secretary",
                events: "First World War"
            },
            "Lord Palmerston Plaque": {
                description: "A plaque marking a location where <span id='fly' data-name='Lord Palmerston'>Lord Palmerston</span> had lived. More information can be found at his statue.",
                image: "palmerston_plaque",
                coordinates: null,
                date: "1907",
                creators: {
                    sculptors: null,
                    architects: "London County Council",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Opium Wars;Crimean War"
            },
            "Charles De Gaulle Plaque": {
                description: "A plaque marking where <span id='fly' data-name='Charles De Gaulle'>General Charles de Gaulle</span> set up Headquarters of the Free French Forces.",
                image: "cdg_plaque",
                coordinates: null,
                date: "1984",
                creators: {
                    sculptors: null,
                    architects: null,
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "First World War; Second World War; Algerian War"
            },
            "Charles de Gaulle": {
                description: "During the Second World War, after the fall of France in 1940, Charles de Gaulle fled to Britain, wanting to establish the Free French Forces to continue the fight against Nazi Germany. By taking control of several colonies, the French intended to use them as bases from which they could begin to liberate occupied France. After the war, de Gaulle poured his efforts into increasing French national independence as well as decolonising several French territories such as Algeria due to growing demands for independence. Despite this, he still sought to maintain some influence over these regions by continuing to maintain strong ties with them in a move which could be seen as a form of neo-colonialism.",
                image: "cdg",
                coordinates: [-0.134240, 51.505580],
                date: 1993,
                creators: {
                    sculptors: "Angela Conner",
                    architects: "Bernard Wiehahn",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "First World War; Second World War; Algerian War"
            },
            "Kitchener Plaque": {
                description: "A plaque marking a location that <span id='fly' data-name='Kitchener'>Lord Kitchener</span> lived in. Visit his statue for more information.",
                image: "kitchener_plaque",
                coordinates: null,
                date: "1924",
                creators: {
                    sculptors: null,
                    architects: null,
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Second Boer War; First World War; Mahdist War"
            },
            "Ottobah Cugoano": {
                description: "Ottobah Cugoano was one of the first formerly enslaved people to write and publish in English. Schomberg House on Pall Mall, where this plaque can be found, is a place where Ottobah once served as a slave and campaigned towards anti-slavery.<br><br>The Cosways, who Ottobah served, were known for their Sunday parties. There, he met the Prince of Wales, his father, George III, and many more bourgeoisies who he wrote against in his books. Cugoano mysteriously disappeared after 1791 when he intended to go on a tour promoting his book 'Thoughts and Sentiments on the Evil and Wicked Traffic of the Slavery and Commerce of the Human Species'.",
                image: "ottobah",
                coordinates: null,
                date: "2020",
                creators: {
                    sculptors: null,
                    architects: "English Heritage",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Transatlantic Slave Trade"
            },
            "Commonwealth Panel": {
                description: "A panel celebrating the 2018 Commonwealth Heads of Government Meeting. It covers a short history of the Commonwealth dating from its beginnings in 1949 up to the present day. The commonwealth is seen by some as a continuation of the British Empire.",
                image: "commonwealth",
                coordinates: null,
                date: "2018",
                creators: {
                    sculptors: null,
                    architects: null,
                    foundries: null,
                    stonemasons: null
                },
                links: null
            },
            "Queen Alexandra Memorial": {
                description: "The wife of <span id='fly' data-name='King Edward VII'>Edward VII</span> and Empress of India. In the eyes of the British public, she was known for her beauty and manners, making her a lasting favourite. She founded the Imperial Military Nursing Service as well as creating Alexandra Rose Day to help raise funds for charity.",
                image: "alexandra",
                coordinates: [-0.136797, 51.504673],
                date: "1932",
                creators: {
                    sculptors: "Alfred Gilbert",
                    architects: null,
                    foundries: "A.B. Burton",
                    stonemasons: null
                },
                links: null
            },
            "Victoria Memorial": {
                description: "The Queen of the Empire, where the sun never set. During Queen Victoria's reign, she reestablished and preserved the power of the British monarchy, put India under colonial custody and, despite the recent emancipation of slaves, continued to benefit heavily from the wealth that was generated.<br><br>Funnily enough, this memorial was mainly paid for by gathering money from the colonies of the Empire. These funds also paid for turning the Mall into a royal processional route, the erection of the Admiralty Arch and the re-facing of Buckingham Palace.<br><br>The nose on this statue has clearly been replaced but the reason for this seems to be a mystery.",
                image: "victoria",
                coordinates: [-0.140586, 51.501839],
                date: "1911",
                creators: {
                    sculptors: "Thomas Brock",
                    architects: "Aston Webb",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: "Queen of the United Kingdom; Empress of India",
                events: "Crimean War; Indian Rebellion of 1857"
            },
            "Buckingham Palace": {
                description: "London home to the King or Queen since 1837. A representation of the British Monarchy built at the same time the Empire was colonising much of the World, and possibly paid for with money earned through these actions.<br><br>Buckingham House was bought by King George III for his wife, Charlotte, and for a while was known as the Queen's House. In the 1820s, King George IV ordered John Nash to convert the house into a palace. This project took many years to complete and Nash would constantly increase the costs of the renovations which ended in his removal as the architect. Edward Blore was then hired to complete the change, but the project was completed with many structural issues. Another British Architect, Sir Aston Webb, who also designed Admiralty Arch as well as the <span id='fly' data-name='Victoria Memorial'>Victoria Memorial</span>, was tasked with further work on the palace giving its current iconic appearance.",
                image: "buckingham",
                coordinates: [-0.140586, 51.501839],
                date: "1911",
                creators: {
                    sculptors: null,
                    architects: "John Nash; Edward Blore; James Pennethorne; Aston Webb",
                    foundries: null,
                    stonemasons: null
                },
                links: "<a href='https://www.rct.uk/visit/buckingham-palace/who-built-buckingham-palace' target='_blank' rel='noopener noreferrer'>Royal Collection Trust</a>",
                role: "Queen of the United Kingdom; Empress of India",
                events: null
            },
            "The Royal Artillery Boer War Memorial": {
                description: "This memorial remembers the Royal Artillery soldiers who died during the Second Boer War. The wars were between two Boer republics (the South African Republic and Orange Free State) and the British Empire over the Empire's rule in Southern Africa. The first conflict ended with the Empire sending over 180,000 troops and African politicians letting them take over the republics' capitals and annex them to the Empire.<br><br>During the second war, <span id='fly' data-name='Kitchener'>Herbet Kitchener</span> commanded the British army. Recognising that traditional warfare would be difficult against the Boers 'guerrilla warfare' tactics, <span id='fly' data-name='Kitchener'>Kitchener</span> began creating plans to build and operate concentration camps in which many Boers were sadly kept. The conditions within the camps were awful and it is estimated around 27,000 Boer women and children died.",
                image: "royal_artillery_boer",
                coordinates: [-0.131039, 51.505465],
                date: "1910",
                creators: {
                    sculptors: null,
                    architects: null,
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Second Boer War"
            },
            "Kitchener": {
                description: "This statue is often covered when the horse guards area has temporary seating set up. However, you may not even need to see this statue to know his face, as it was plastered on the famous 'Your Country Needs You' posters during the First World War. This only added to his already popular status. People looked up to him, praising him and the way in which he was a representation of Britain itself.<br><br>Kitchener served and fought in many conflicts throughout his life and has links to other monuments on this route such as <span id='fly' data-name='The Royal Artillery Boer War Memorial'>The Royal Artillery Boer War Memorial</span> where Kitchener lead the creation of concentration camps, and <span id='fly' data-name='Lord Curzon'>Lord Curzon</span> whom Kitchener fell out with over management of the Indian Army. Unfortunately for Kitchener, he never got to be Viceroy of India like Curzon was and died disappointed to never have been appointed.",
                image: "kitchener",
                coordinates: [-0.127956, 51.503924],
                date: "1926",
                creators: {
                    sculptors: "John Tweed",
                    architects: null,
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Second Boer War; First World War; Mahdist War"
            },
            "Earl Mountbatten of Burma": {
                description: "Unfortunately, due to the proximity to 10 Downing Street, this statue is completely inaccessible, but still visible.<br><br>The last Viceroy of India, Lord Mountbatten played a role in the independence of India and Pakistan. He realised that gradually giving independence to those countries could end up in a civil war and decided to transfer power quickly just a few months after he arrived in India.<br><br>Following this, he became the first Governor-General of independent India during which time he supported Prime Minister Nehru with political decisions to benefit India. On the other hand, the Pakistanis were not as keen towards the former Viceroy due to the issues concerning Kashmir, thinking lord Mountbatten was favouring India, and deemed him persona non grata (Latin: person not welcome).",
                image: "mountbatten",
                coordinates: null,
                date: "1983",
                creators: {
                    sculptors: "Franta Belsky",
                    architects: null,
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "First World War; Second World War"
            },
            "Robert Clive": {
                description: "The real founder of the British Empire in India. Credited for laying the foundations of the East India Company in Bengal during the Battle of Plassey and also known for his lack of responsibility in the role he played during the Great Bengal Famine of 1770.<br><br>Clive got extremely rich through many controversial means, including accepting bribes from politicians to help them get to power. This led to a Parliamentary inquiry where he was criticised for his actions, but ultimately let go due to his significant services to Britain. Clive struggled with his mental health, potentially due to bipolar disorder, which, in addition to his controversial actions out in the open, most likely led to his suicide.<br><br>His statue is also surrounded by a great debate. Lord Curzon, in the 1900s, insisted that a hero like Clive must have a statue, but many people then were against it. Now, Clive is looked at with scrutiny due to his involvement in colonialism and oppression against Indians and many people continue to petition for the removal of this statue.",
                image: "robert_clive",
                coordinates: null,
                date: "1912",
                creators: {
                    sculptors: "John Tweed",
                    architects: "George Somers Clarke",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Battle of Plassey;The Great Bengal Famine"
            },
            "Westminster Scholars War Memorial": {
                description: "Monument dedicated to those educated in Westminster who died during the Indian and Russian wars.",
                image: "westminster_scholars",
                coordinates: null,
                date: "1861",
                creators: {
                    sculptors: null,
                    architects: "George Gilbert Scott",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: null
            },
            "Lord Palmerston": {
                description: "Referred to as 'the most English minister who ever governed England', Lord Palmerston served in the House of Commons for more than 50 years, three times as a foreign secretary of state and as a Prime Minister for a decade. During this time, Palmerston continued to oppose giving voting rights for the working class believing this could destabilise the political system. He also advised against having permanent allies, instead saying that Britain should only be looking for permanent interests. His aggressive foreign policy helped to solidify the British Empire's global power and continued dominance.",
                image: "palmerston",
                coordinates: [-0.127076, 51.500905],
                date: "1876",
                creators: {
                    sculptors: "Thomas Woolner",
                    architects: null,
                    foundries: "R. Masefield & Co.",
                    stonemasons: "J. Wren"
                },
                links: null,
                role: null,
                events: "Opium Wars;Crimean War;Abolition of Slavery"
            },
            "Jan Smuts": {
                description: "A good friend of <span id='fly' data-name='Churchill'>Churchill's</span> and former prime minister of the Union of South Africa. A man with extremely strong views favouring racism and segregation. Despite his views later in life shifting towards liberalisation, he never truly practised what he preached as his policies contributed to what would later become apartheid. This statue was just as controversial as Smuts' views on race issues, with Labour MPs attempting to ensure the statue was nowhere near Lincoln's, but Churchill insisted, and Smuts now stands in Parliament Square.",
                image: "jan_smuts",
                coordinates: null,
                date: "1956",
                creators: {
                    sculptors: "Jacob Epstein",
                    architects: null,
                    foundries: "Art Bronze Foundry",
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Second Boer War;First World War;Second World War"
            },
            "Earl of Derby": {
                description: "Three-time British Prime Minister Edward Smith Stanley who also served as Chief Secretary of Ireland as well as Secretary of State for War and the Colonies. He had many, many unsuccessful years before his recognition as a nobleman talented in speeches. Now, he is often forgotten even though he reformed parliament and essentially is the father of modern Conservatism in Britain.<br><br>He introduced the Irish Education Bill, pushed for the Abolition of Slaves Bill, worked on removing Jewish discrimination in Parliament, and helped the transfer of India's administration from the East India Company to the crown.",
                image: "earl_of_derby",
                coordinates: null,
                date: "1874",
                creators: {
                    sculptors: "Matthew Noble; Horace Montford",
                    architects: null,
                    foundries: "Cox & Son; H. Young & Co.",
                    stonemasons: "MacDonald, Field & Co."
                },
                links: null,
                role: null,
                events: "American Civil War; Indian Rebellion of 1857;Abolition of Slavery"
            },
            "Sir Robert Peel": {
                description: "Two-times British Prime Minister, the founder of the Conservative Party, and the creator of the Metropolitan Police Service. The reason why policemen are sometimes called 'Bobbies' or 'Peelers'.<br><br>Before this statue, two were made by Carlo Marochetti, but were rejected and Matthew Noble was commissioned to make a new statue. Noble liked to experiment with modernising the clothes his subject wore, and, in this case, he sculpted Peel in unusually tight, for that time, trousers.",
                image: "robert_peel",
                coordinates: null,
                date: "1876",
                creators: {
                    sculptors: "Matthew Noble",
                    architects: null,
                    foundries: "Cox & Son",
                    stonemasons: null
                },
                links: null,
                role: null,
                events: null
            },
            "Winston Churchill": {
                description: "A strong supporter of the British Empire, Churchill was once voted as the greatest ever Briton. This was achieved despite his many controversies, both during his time and looking back from the modern day. Early in his life, Churchill was a war correspondent, sometimes playing dual role of solider and reporter. He travelled to places such as Cuba, reporting on the war of independence, as well as India on the North-West Frontier and joined <span id='fly' data-name='Kitchener'>Lord Kitchener's</span> expedition in the Nile. Like his good friend <span id='fly' data-name='Jan Smuts'>Jan Smuts</span>, Churchill believed in racial hierarchies. This fact could also perhaps explain his inability to act during the Bengal famine in 1943, instead choosing to mostly ignore it and then blame Indians for it. Churchill was also a supporter of Zionism despite his sometimes anti-semetic views and opposed granting Palestine self-rule.<br><br>Allegedly this statue is charged with a low electrical current that helps to stop pigeons from landing on it. Due to visible pigeon poo, it is safe to assume this is likely untrue.  This statue gets boarded up every time a protest occurs in the area, even if there is little chance of it being damaged or defaced.",
                image: "churchill",
                coordinates: null,
                date: "1973",
                creators: {
                    sculptors: "Ivor Roberts-Jones",
                    architects: null,
                    foundries: "Meridian Foundry",
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Second Boer War; Second World War; First World War; Mahdist War; Cold War; Arab Revolt in Palestine; Anglo-Irish War"
            },
            "Monty": {
                description: "Bernard Montgomery is a fairly well-known war hero. Well-known enough to have a statue outside the Ministry of Defence. Lesser known are his attempts at flirting with a 17-year-old girl while in his 30s, attempting to achieve this by drawing tank strategy plans into the sand.<br><br>While he spent most of his career being looked up to for his military strategy, in later life his outspoken views on social and political issues such as supporting apartheid in South Africa and his opposition to legalising homosexuality make him a more controversial figure.",
                image: "monty",
                coordinates: null,
                date: "1980",
                creators: {
                    sculptors: "Oscar Nemon",
                    architects: null,
                    foundries: "Morris Singer Art Foundry Ltd",
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "First World War; Anglo-Irish War; Arab Revolt in Palestine; Second World War"
            },
            "Iraq & Afghanistan Memorial": {
                description: "Queen Elizabeth II unveiled this memorial with several people present including the controversial choice of Tony Blair, who had led Britain into the Iraq war. Meanwhile, relatives of those who had died were not invited to attend. Britain's history with Iraq goes back to just after the First World War when Britain took control of Iraq after it had been part of the Ottoman Empire. After gaining independence in 1932, it still took until 1958 for Iraq to become a republic.<br><br>During the 19th and 20th centuries, Britain took part in several wars in Afghanistan due to a strategic rivalry with Russia. The first war attempted to install a friendly regime in Kabul before having to retreat while the second war was more successful with Britain gaining control over Afghanistan's foreign affairs. The third war in the early 20th century saw Afghanistan fighting for and gaining full independence from the British.",
                image: "iraq_afghan",
                coordinates: null,
                date: "2016",
                creators: {
                    sculptors: "Paul Day",
                    architects: null,
                    foundries: null,
                    stonemasons: "stoneCIRCLE"
                },
                links: null,
                role: null,
                events: "Gulf War;Afghanistan War;Iraq War"
            },
            "Korean War Memorial": {
                description: "This memorial was a gift from the Government of South Korea in memory of British soldiers who died during the Korean War, participating as part of the United Nations force. While not an obvious example of the British Empire, the war continued to show Britain‚Äôs influence throughout the world as they were the second largest force after the United States. The British Commonwealth Forces Korea was a formal name given to the British units serving in the war and included people from Australia, Britain, Canada, India and New Zealand.",
                image: "korean_war",
                coordinates: null,
                date: "2014",
                creators: {
                    sculptors: "Philip Jackson",
                    architects: null,
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Korean War"
            },
            "Fleet Air Arm Memorial": {
                description: "A memorial to the Royal Naval Air Service and the Fleet Air Arm, of which many people from all over the Commonwealth served. This statue is designed to represent Daedalus, the Greek mythological figure who crafted wings out of feathers and beeswax for himself and his son, Icarus.",
                image: "fleet_air",
                coordinates: null,
                date: "2000",
                creators: {
                    sculptors: "James Butler",
                    architects: "Tim Kempster",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "First World War;Second World War;Korean War;Falklands War; Gulf War"
            },
            "Charles George Gordon": {
                description: "A British Army officer who fought in the Crimean War, Taiping Rebellion and the Mahdist War. During the Second Opium War, he took part and led the burning of the Chinese emperor's summer palace. He became known as ‚ÄúChinese Gordon‚Äù, a nickname given due to his command of the ‚ÄúEver Victorious Army‚Äù, a group of Chinese soldiers led by Europeans. In 1873, Gordon was appointed governor of the province of Equatoria in Sudan and spent his time crushing rebellions as well as suppressing the slave trade.<br><br>This statue was originally unveiled in Trafalgar Square with no formal ceremony before later being removed in 1943. After a stint in the grounds of Mentmore Towers, Churchill advocated for the statues' return to London. The short cane he is holding is known as his 'Wand of Victory', which was clearly not victorious enough to prevent his death during the Siege of Khartoum.",
                image: "gordon",
                coordinates: null,
                date: "1888",
                creators: {
                    sculptors: "Hamo Thornycroft",
                    architects: null,
                    foundries: "Moore & Co.",
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Crimean War;Siege of Khartoum;Opium Wars;Taiping Rebellion;Mahdist War"
            },
            "The Gurkha Soldier": {
                description: "This statue, unveiled by Queen Elizabeth II, represents an unnamed Gurkha Soldier and is modelled after an identical statue inside the Foreign and Commonwealth Office. The sculptor for this statue, Philip Jackson, decided to scale up the original figure and work with a real Gurkha model, Captain Khemkumar Limbu.<br><br>The Gurkha's relationship with the British is an interesting one, having been born out of the Anglo-Nepalese War where defectors from the Gurkha army were used by Britain as irregular forces. They later served under the British East India Company in several wars such as both the Anglo-Sikh Wars as well as in the Indian Rebellion of 1857.",
                image: "gurkha",
                coordinates: null,
                date: "1997",
                creators: {
                    sculptors: "Philip Jackson",
                    architects: "Cecil Denny Highton",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Indian Rebellion of 1857;First World War;Second World War;Gulf War;Siege of Lucknow"
            },
            "Sir James Outram": {
                description: "A comrade of <span id='fly' data-name='Henry Havelock'>Henry Havelock</span>, James Outram helped to relieve the siege of Lucknow. In recognition towards Havelock's 'achievements' in India, Outram, who out-ranked Havelock, stood down, allowing Havelock to ultimately command the force that relieved the siege.<br><br>Interestingly, the plans for Outram's statue started while he was still alive, originally hoping that a spot near Henry Havelock in Trafalgar Square might be available. This was denied and instead, a site in the upcoming Embankment Gardens was offered.",
                image: "outram",
                coordinates: null,
                date: "1971",
                creators: {
                    sculptors: "Matthew Noble",
                    architects: null,
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "Indian Rebellion of 1857;Siege of Lucknow"
            },
            "Imperial Camel Corps Memorial": {
                description: "A memorial dedicated to members of the Camel Corps who came from Britain, Australia, New Zealand, and India. The sculptor of this statue, Major Cecil Brown, was also a member of the corps. Created initially to fight in the Middle East during the First World War, the corps became part of the Egyptian Expeditionary Force and took part in several battles such as the Sinai and Palestine campaigns as well as the Arab Revolt and Senussi Campaign.",
                image: "camel_corp",
                coordinates: null,
                date: "1921",
                creators: {
                    sculptors: "Major Cecil Brown",
                    architects: null,
                    foundries: "A.B. Burton",
                    stonemasons: null
                },
                links: null,
                role: null,
                events: "First World War"
            },
            "Rudyard Kipling Plaque": {
                description: "A writer and poet who celebrated British imperialism in his work. At the time Kipling was writing, many saw the Empire as a force for good, creating stability, order and unity. Retrospectively, looking up to the Empire in this way seems incomprehensible, and even those in the early 20th century thought Kipling‚Äôs views of imperialism often strayed too far. However, his peers could not deny his skill as a writer, and he was defended by many of them despite his strong and often racist opinions.",
                image: "kipling_plaque",
                coordinates: null,
                date: "1957",
                creators: {
                    sculptors: null,
                    architects: "London County Council",
                    foundries: null,
                    stonemasons: null
                },
                links: null,
                role: "Writer",
                events: "First World War"
            }
        };

        //Filter things
        const filterGroupCreators = document.getElementById("creators");
        const filterGroupEvents = document.getElementById("events");

        map.on('load', () => {
            //Array that holds which waypoints are created by which creators
            const creatorsToWaypoints = {
                sculptors: {},
                architects: {},
                foundries: {},
                stonemasons: {}
            };

            //Array that holds which waypoints are from which events
            const eventsToWaypoints = {};

            //Fill the creatorsToWaypoints array
            for (const [name, data] of Object.entries(waypoints)) {
                const creators = data.creators;
                for (const [role, creatorList] of Object.entries(creators)) {
                    if (creatorList) {
                        // Split creator names by semicolon and trim whitespace if it contains one
                        const creatorsArray = creatorList.includes(';')
                            ? creatorList.split(';').map(creator => creator.trim())
                            : [creatorList.trim()];//Treat as a single name if no semicolon is found

                        creatorsArray.forEach(creator => {
                            if (!creatorsToWaypoints[role][creator]) {
                                creatorsToWaypoints[role][creator] = [];
                            }
                            creatorsToWaypoints[role][creator].push(name);
                        });
                    }
                }
            }

            //Fill the eventsToWaypoints array
            for (const [name, data] of Object.entries(waypoints)) {
                const events = data.events;
                if (events) {
                    // Split event names by semicolon and trim whitespace if it contains one
                    const eventsArray = events.includes(';')
                        ? events.split(';').map(event => event.trim())
                        : [events.trim()];//Treat as a single event if no semicolon is found

                    eventsArray.forEach(event => {
                        if (!eventsToWaypoints[event]) {
                            eventsToWaypoints[event] = [];
                        }
                        eventsToWaypoints[event].push(name);
                    });
                }
            }

            //function called when a checkbox is toggled
            const updateLayerFilter = () => {
                //get array of creators that corresponds to checked boxes
                const checkedCreators = {
                    sculptors: [],
                    architects: [],
                    foundries: [],
                    stonemasons: []
                };

                Object.keys(checkedCreators).forEach(role => {
                    checkedCreators[role] =
                        [...document.querySelectorAll(`input[data-role="${role}"]`)]
                            .filter((el) => el.checked)
                            .map((el) => el.id);
                });

                //get array of events that corresponds to checked boxes
                const checkedEvents = [...document.querySelectorAll(`input[data-role="event"]`)]
                    .filter((el) => el.checked)
                    .map((el) => el.id);

                //Obtain which waypoints should be visible based on selected filter
                const visibleWaypointNames = new Set();
                Object.keys(checkedCreators).forEach(role => {
                    checkedCreators[role].forEach(creator => {
                        creatorsToWaypoints[role][creator].forEach(name => visibleWaypointNames.add(name));
                    });
                });

                checkedEvents.forEach(event => {
                    if (eventsToWaypoints[event]) {
                        eventsToWaypoints[event].forEach(name => visibleWaypointNames.add(name));
                    } else {
                        console.log(`Event not found in eventsToWaypoints: ${event}`);
                    }
                });

                // Debugging Output
                console.log("Checked Events:", checkedEvents);
                console.log("Visible Waypoints:", [...visibleWaypointNames]);

                //If no filter is selected, show all waypoints
                if (visibleWaypointNames.size === 0) {
                    map.setFilter('waypoints', null);
                    map.setFilter('waypoints-text', null);
                } else {
                    //Filter the layer
                    map.setFilter('waypoints', ['in', 'name', ...visibleWaypointNames]);
                    map.setFilter('waypoints-text', ['in', 'name', ...visibleWaypointNames]);
                }
            };

            // Function to create a checkbox group for a specific creator role
            const createCheckboxGroup = (role) => {
                const roleContainer = document.createElement('div');
                roleContainer.className = 'filter-subgroup';
                const roleTitle = document.createElement('h2');
                roleTitle.textContent = role.charAt(0).toUpperCase() + role.slice(1);
                roleContainer.appendChild(roleTitle);

                const sortedCreators = Object.keys(creatorsToWaypoints[role]).sort((a, b) => a.localeCompare(b));

                sortedCreators.forEach(creator => {
                    const input = document.createElement('input');
                    input.type = 'checkbox';
                    input.id = creator;
                    input.dataset.role = role;  // Store the role in a data attribute
                    input.checked = false;  // Initially unchecked
                    roleContainer.appendChild(input);

                    const label = document.createElement('label');
                    label.setAttribute('for', creator);
                    label.textContent = creator;
                    roleContainer.appendChild(label);

                    // When any checkbox changes, update the filter
                    input.addEventListener('change', updateLayerFilter);
                });

                filterGroupCreators.appendChild(roleContainer);
            };

            // Create checkbox groups for each creator role
            Object.keys(creatorsToWaypoints).forEach(role => createCheckboxGroup(role));

            // Create checkboxes for each event
            const sortedEvents = Object.keys(eventsToWaypoints).sort((a, b) => a.localeCompare(b));

            sortedEvents.forEach(event => {
                const input = document.createElement('input');
                input.type = 'checkbox';
                input.id = event;
                input.dataset.role = 'event';
                input.checked = false;  // Initially unchecked
                filterGroupEvents.appendChild(input);

                const label = document.createElement('label');
                label.setAttribute('for', event);
                label.textContent = event;
                filterGroupEvents.appendChild(label);

                // When any checkbox changes, update the filter
                input.addEventListener('change', updateLayerFilter);
            });
        });

        /*
        Add an event listener that runs
        when a user clicks on the map element.
        */
        map.on('click', (event) => {
            // If the user clicked on one of your markers, get its information.
            const features = map.queryRenderedFeatures(event.point, { layers: ['waypoints'] });
            if (!features.length) {
                return;
            }
            const feature = features[0];

            // Lookup waypoint info
            const name = feature.properties.name;
            const currentWaypoint = waypoints[name]

            //Gathering creator info
            let creatorsInfo = '';
            for (const key in currentWaypoint.creators) {
                if (currentWaypoint.creators[key]) { //Checking value is not null
                    creatorsInfo += `<h3>${key.charAt(0).toUpperCase() + key.slice(1)}: ${currentWaypoint.creators[key]}</h3>`;
                }
            }

            /*
            Create a popup, specify its options
            and properties, and add it to the map.
            */
            const popup = new AnimatedPopup({
                offset: 25,
                openingAnimation: {
                    duration: 300,
                    easing: 'easeOutBack',
                    transform: 'scale'
                },
                closingAnimation: {
                    duration: 300,
                    easing: 'easeInBack',
                    transform: 'scale'
                }
            })
                .setLngLat(feature.geometry.coordinates)
                .setMaxWidth("500px")
                .setHTML(
                    `<div style="position: relative;">
                    <img src="img/${currentWaypoint.image}.jpg" style="width:50%;">
                    <h1>${feature.properties.name}</h1>
                    <h2>Unveiled: ${currentWaypoint.date}</h2>
                    ${creatorsInfo}
                    <p>${currentWaypoint.description}</p>
                    ${currentWaypoint.links ? `<p>Links:<br>${currentWaypoint.links}</p>` : ''} 
                    </div>`
                )
                .addTo(map);
        });

        // Listen for click on links to fly
        document.addEventListener('click', function (event) {
            if (event.target && event.target.id === 'fly') {
                //Extract text of the span element
                const spanName = event.target.getAttribute('data-name');
                // Look up the coordinates
                const spanCoordinates = waypoints[spanName];
                if (spanCoordinates) {
                    // Fly to the mapped coordinates location
                    map.flyTo({
                        center: spanCoordinates.coordinates,
                        zoom: 19,
                        essential: true // this animation is considered essential with respect to prefers-reduced-motion
                    });
                } else {
                    console.error('No coordinates found for that name.');
                }
            }
        });

        // Add zoom and rotation controls to the map.
        map.addControl(new mapboxgl.NavigationControl({
            visualizePitch: true
        }));

        // Change the cursor to a pointer when the mouse is over the places layer.
        map.on('mouseenter', 'waypoints', () => {
            map.getCanvas().style.cursor = 'pointer';
        });

        // Change it back to a pointer when it leaves.
        map.on('mouseleave', 'waypoints', () => {
            map.getCanvas().style.cursor = '';
        });

        // Add an event listener to the compass button
        document.querySelector('.mapboxgl-ctrl-compass').addEventListener('click', () => {
            map.easeTo({
                bearing: 0,
                pitch: 0, // Reset pitch to 0 for a top-down view
                duration: 1000 // Optional: duration of the animation in milliseconds
            });
        });
    </script>
</body>

</html>